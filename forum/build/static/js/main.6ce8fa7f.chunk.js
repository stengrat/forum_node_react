(this.webpackJsonpwebdev=this.webpackJsonpwebdev||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),s=a.n(c),r=a(38),i=a.n(r),o=(a(81),a(23)),l=a(22),d=a(25),j=a(24),u=a(17),h=a(72),b=a(42),m=a.n(b),x=(a(98),a(30)),O=a(16),p=a(10),f=a.n(p),v=a(18),g=a(45),y=a.n(g),N=(a(100),a(103),y.a.initializeApp({apiKey:"AIzaSyA7iwYa-kqc2T1bj8gtvTtPBsU1Z6L_5tc",authDomain:"reactblog-90abe.firebaseapp.com",databaseURL:"https://reactblog-90abe.firebaseio.com",projectId:"reactblog-90abe",storageBucket:"reactblog-90abe.appspot.com",messagingSenderId:"117323009639",appId:"1:117323009639:web:07844d0ead090128730ec2"})),C=y.a.firestore(N),w=y.a.auth(N);function k(){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.collection("post").orderBy("userId").limit(50),e.next=3,t.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(v.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([k()]);case 2:return t=e.sent,a=Object(O.a)(t,1),n=(n=a[0]).docs.map((function(e){var t=e.data();return Object.assign({},t)})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.collection("post").where("uid","==",t),e.next=3,a.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(v.a)(f.a.mark((function e(t){var a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([L(t)]);case 2:return a=e.sent,n=Object(O.a)(a,1),c=(c=n[0]).docs.map((function(e){var t=e.data();return Object.assign({},t)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.collection("comentarios").where("postid","==",t),e.next=3,a.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(v.a)(f.a.mark((function e(t){var a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E(t)]);case 2:return a=e.sent,n=Object(O.a)(a,1),c=(c=n[0]).docs.map((function(e){var t=e.data();return Object.assign({},t)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return A.apply(this,arguments)}function A(){return(A=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.collection("usuarios").where("uid","==",t),e.next=3,a.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return R.apply(this,arguments)}function R(){return(R=Object(v.a)(f.a.mark((function e(t){var a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([D(t)]);case 2:return a=e.sent,n=Object(O.a)(a,1),c=(c=n[0]).docs.map((function(e){var t=e.data();return Object.assign({},t)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.collection("post").where("userId","==",t),e.next=3,a.get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(v.a)(f.a.mark((function e(t){var a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([F(t)]);case 2:return a=e.sent,n=Object(O.a)(a,1),c=(c=n[0]).docs.map((function(e){var t=e.data();return Object.assign({},t)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(26),W=a(9),H=a(34),q=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={likes:0},e.addLike=function(){var t=e.state.likes+1;e.setState({likes:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(W.a,{variant:"outline-info",onClick:this.addLike,children:[Object(n.jsx)(H.c,{})," ",this.state.likes]})}}]),a}(s.a.Component);var M=function(e){var t=e.userid;console.log(t);var a=Object(c.useState)("None"),s=Object(O.a)(a,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){C.collection("usuarios").doc(t).get().then((function(e){var t=e.data();t&&i(t.displayName)}))}),[]),Object(n.jsxs)("address",{children:["Escrito por ",Object(n.jsx)("b",{children:Object(n.jsx)("a",{className:"text-info",children:r})})]})},J=a(13),K=a.n(J),Y=a(8),Z=a(55),$=a(11),Q=a(29),X=a(15),ee=a(36);function te(){K()({title:"Copie e compartilhe",text:window.location.href,icon:"info",value:window.location.href}).then((function(e){var t=document.createElement("textarea");t.innerText=window.location.href,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove(),K()("Link Copiado","","success")}))}var ae=function(e){var t=e.data,a=e.detail,s="none";e.userid&&(s=e.userid);var r,i=Object(c.useState)("None"),o=Object(O.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)("none"),u=Object(O.a)(j,2),h=u[0],b=u[1];if(Object(c.useEffect)((function(){C.collection("usuarios").doc(s).get().then((function(e){var t=e.data();t&&d(t.displayName),t&&b(t.photoURL)}))}),[]),"card"===a)return r=t.tags.map((function(e){return Object(n.jsx)(Z.a,{variant:"info",className:"ml-1",children:e})})),Object(n.jsx)(Y.a,{style:{width:"75%"},className:"mt-3 shadow mx-auto","data-id":t.uid,children:Object(n.jsxs)(Y.a.Body,{children:[Object(n.jsx)(Y.a.Title,{children:t.title}),Object(n.jsx)(Y.a.Subtitle,{className:"mb-2 text-muted",children:Object(n.jsx)(M,{userid:t.userId})}),Object(n.jsxs)(Y.a.Text,{children:[Object(n.jsx)("hr",{}),t.body,Object(n.jsx)("hr",{}),r]}),Object(n.jsx)(V.LinkContainer,{to:"/post/".concat(t.uid),children:Object(n.jsx)(Y.a.Link,{children:"Visualizar post"})})]})});if("preview"===a)return Object(n.jsx)(Y.a,{style:{width:"75%"},className:"mt-3 shadow mx-auto","data-id":t.uid,children:Object(n.jsxs)(Y.a.Body,{children:[Object(n.jsx)(Y.a.Title,{children:t.title}),Object(n.jsx)(Y.a.Subtitle,{className:"mb-2 text-muted",children:Object(n.jsx)(M,{userid:t.name,email:t.email})}),Object(n.jsxs)(Y.a.Text,{children:[Object(n.jsx)("hr",{}),t.body,Object(n.jsx)("hr",{})]}),Object(n.jsx)(V.LinkContainer,{to:"/post/".concat(t.uid),children:Object(n.jsx)(Y.a.Link,{children:"Visualizar post"})})]})});if("post"===a){var m;m=t.tags.map((function(e){return Object(n.jsx)(Z.a,{variant:"info",className:"ml-1",children:e})}));var x=e.coments;return Object(n.jsxs)($.a,{children:[Object(n.jsx)("h2",{className:"mt-4 display-4",children:t.title}),Object(n.jsx)("p",{className:"text-muted",children:m}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(X.a,{md:1,children:Object(n.jsx)(ee.a,{className:"ml-3",src:h,thumbnail:!0,width:"100%"})}),Object(n.jsx)(X.a,{md:11,children:Object(n.jsxs)(Y.a,{style:{width:"95%"},className:"shadow mx-1",children:[Object(n.jsx)(Y.a.Body,{children:Object(n.jsxs)("dl",{className:"row text-muted mb-0 pb-0",children:[Object(n.jsx)("dt",{className:"col-sm-9",children:l}),Object(n.jsx)("dd",{className:"col-sm-3 text-right",children:t.data})]})}),Object(n.jsx)("hr",{}),Object(n.jsx)(Y.a.Body,{children:Object(n.jsx)("p",{children:t.body})}),Object(n.jsx)(Y.a.Footer,{className:"text-muted",children:Object(n.jsxs)("dl",{className:"row text-muted mb-0 pb-0",children:[Object(n.jsx)("dd",{className:"col-sm-9 text-right my-auto",children:Object(n.jsx)(W.a,{variant:"outline-info",onClick:te,children:Object(n.jsx)(H.d,{})})}),Object(n.jsx)("dd",{className:"col-sm-2 text-center my-auto",children:Object(n.jsx)(q,{})}),Object(n.jsxs)("dd",{className:"col-sm-1 text-right my-auto",children:[Object(n.jsx)(H.a,{})," ",x]})]})})]})})]})]})}return Object(n.jsx)("h3",{className:"text-danger",children:"Erro"})},ne=a(56),ce=a(43),se=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={posts:[],filter:""},n.filterChange=n.filterChange.bind(Object(x.a)(n)),n}return Object(l.a)(a,[{key:"filterChange",value:function(e){this.setState({filter:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.posts,a=e.filter;return a&&(t=t.filter((function(e){var t=e.title;return(void 0===t?"":t).includes(a)}))),Object(n.jsxs)($.a,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center my-4",children:" Bem vindo ao F\xf3rum forDevs!"}),Object(n.jsx)("h4",{className:"text-center",children:"Se voc\xea precisar de ajuda, utilize o filtro abaixo para localizar o assunto que est\xe1 pesquisando"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"my-5 text-center col-sm-8 mx-auto",children:Object(n.jsxs)(ne.a,{className:"mb-3",size:"lg",children:[Object(n.jsx)(ce.a,{"aria-describedby":"basic-addon2",value:this.state.filter,onChange:this.filterChange}),Object(n.jsx)(ne.a.Append,{children:Object(n.jsx)(W.a,{variant:"secondary",children:"Filtrar"})})]})}),Object(n.jsx)("div",{children:t.map((function(e){return Object(n.jsx)(ae,{data:e,detail:"card"},e.id)}))})]})]})}},{key:"componentDidMount",value:function(){var e=this;(function(){return U.apply(this,arguments)})().then((function(t){e.setState({posts:t})}))}}]),a}(s.a.Component),re=a(32),ie=a(12),oe=a(5),le=a.p+"static/media/4D.22a50857.png",de=a(46);function je(){K()("Ops!!","Voc\xea precisa estar logado para criar posts","error")}var ue=function(){var e=Object(n.jsx)(W.a,{variant:"info",className:"btn btn-sm mx-1",children:"Login"}),t=Object(n.jsx)(W.a,{variant:"outline-info",className:"btn btn-sm mx-1",onClick:je,children:"Novo Post"});return w.currentUser&&(e=Object(n.jsx)(W.a,{variant:"info",className:"btn btn-sm mx-1",children:"Perfil"}),t=Object(n.jsx)(V.LinkContainer,{to:"/posts/new",children:Object(n.jsx)(W.a,{variant:"outline-info",className:"btn btn-sm mx-1",children:"Novo Post"})})),Object(n.jsxs)(de.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(n.jsxs)(de.a.Brand,{href:"/",className:"mx-5",children:[Object(n.jsx)("img",{alt:"",src:le,width:"30",height:"30",className:"d-inline-block align-top"})," ","forDevs"]}),Object(n.jsxs)(de.a.Collapse,{className:"justify-content-end",children:[t,Object(n.jsx)(V.LinkContainer,{to:"/login",children:e})]})]})};function he(){return(he=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tags=t.tags.split(" "),a=w.currentUser.uid,e.next=4,C.collection("post").add(Object(u.a)({userId:a},t));case 4:return n=e.sent,t.uid=n.id,e.next=8,C.collection("post").doc(n.id).update(Object(u.a)({userId:a},t));case 8:K()("Adicionado post ",t.title,"success");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(v.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.currentUser.uid,t.uid=a,e.next=4,C.collection("post").doc(a).update(Object(u.a)({userId:n},t));case 4:e.sent,K()("Atualizado post ",t.title,"success");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(e){var t,a=new Date,r=Object(ie.m)(),i=r.id,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),a=Object(O.a)(t,2),n=a[0],s=a[1],r=function(e){s(Object(u.a)(Object(u.a)({},n),{},Object(re.a)({},e.target.name,e.target.value)))};return{inputs:n,setInputs:s,onInputChange:r}}({title:"",body:"",tags:"",data:a.toLocaleDateString(),uid:i}),l=o.inputs,d=o.setInputs,j=o.onInputChange;return Object(c.useEffect)((function(){var e=r.id;"new"!==e&&C.collection("post").doc(e).get().then((function(e){var t=e.data();t&&d(t)}))}),[]),t="new"===i?Object(n.jsx)(W.a,{onClick:function(){return function(e){return he.apply(this,arguments)}(l)},children:"enviar"}):Object(n.jsx)(W.a,{onClick:function(){return function(e,t){return be.apply(this,arguments)}(l,i)},children:"update"}),Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsxs)($.a,{className:"mb-5",children:[Object(n.jsx)("h1",{className:"mt-5",children:"Criar/Editar Post"}),Object(n.jsx)("hr",{className:"mb-5"}),Object(n.jsxs)(Q.a,{children:[Object(n.jsxs)(X.a,{className:"col-sm-12 col-md-6",children:[Object(n.jsxs)(oe.a.Group,{controlId:"formTitulo",children:[Object(n.jsx)(oe.a.Label,{children:Object(n.jsx)("label",{htmlFor:"txtTitle",children:"T\xedtulo"})}),Object(n.jsx)(oe.a.Control,{type:"text",name:"title",value:l.title,onChange:j}),Object(n.jsx)(oe.a.Text,{className:"text-muted",children:"Coloque o t\xedtulo do seu Post."})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)(oe.a.Group,{controlId:"formBody",children:[Object(n.jsx)(oe.a.Label,{children:Object(n.jsx)("label",{htmlFor:"txtBody",children:"Corpo"})}),Object(n.jsx)(oe.a.Control,{as:"textarea",rows:"10",name:"body",value:l.body,onChange:j}),Object(n.jsx)(oe.a.Text,{className:"text-muted",children:"Escreva o corpo do seu Post."})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)(oe.a.Group,{controlId:"formTags",children:[Object(n.jsx)(oe.a.Label,{children:Object(n.jsx)("label",{htmlFor:"txtTags",children:"Tags"})}),Object(n.jsx)(oe.a.Control,{name:"tags",value:l.tags,type:"text",onChange:j}),Object(n.jsx)(oe.a.Text,{className:"text-muted",children:"Adicione as tags referentes."})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)(oe.a.Group,{controlId:"formUid",children:[Object(n.jsx)(oe.a.Label,{children:Object(n.jsx)("label",{htmlFor:"txtId",children:"Uid"})}),Object(n.jsx)(oe.a.Control,{name:"txtId",type:"text",placeholder:i,readOnly:!0})]}),t,Object(n.jsx)(V.LinkContainer,{to:"/",className:"mx-3",children:Object(n.jsx)(W.a,{variant:"outline-danger",children:"Fechar"})})]}),Object(n.jsxs)(X.a,{className:"col-sm-12 col-md-6",children:[Object(n.jsx)("h3",{className:"ml-5 pl-5",children:"Preview"}),Object(n.jsx)("div",{children:Object(n.jsx)(ae,{data:Object(u.a)({name:"Undefined"},l),detail:"preview"})})]})]})]})]})};var xe=function(e){var t=e.data,a="none";e.userid&&(a=e.userid),console.log(a);var s=Object(c.useState)("None"),r=Object(O.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)("none"),d=Object(O.a)(l,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){C.collection("usuarios").doc(a).get().then((function(e){var t=e.data();t&&o(t.displayName),t&&u(t.photoURL)}))}),[]),Object(n.jsx)($.a,{className:"mt-3 mb-3",children:Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(X.a,{md:1,children:Object(n.jsx)(ee.a,{className:"ml-3",src:j,thumbnail:!0,width:"100%"})}),Object(n.jsx)(X.a,{md:11,children:Object(n.jsxs)(Y.a,{style:{width:"95%"},className:"shadow mx-1",children:[Object(n.jsx)(Y.a.Body,{children:Object(n.jsxs)("dl",{className:"row text-muted mb-0 pb-0",children:[Object(n.jsx)("dt",{className:"col-sm-9",children:i}),Object(n.jsx)("dd",{className:"col-sm-3 text-right",children:t.data})]})}),Object(n.jsx)("hr",{}),Object(n.jsx)(Y.a.Body,{children:Object(n.jsx)("p",{children:t.body})}),Object(n.jsxs)(Y.a.Footer,{className:"text-muted",children:["Likes ",t.like]})]})})]})})},Oe=a.p+"static/media/4D.22a50857.png",pe=a(74),fe=(a(112),function(){return Object(n.jsx)("div",{className:"footer text-white",children:Object(n.jsxs)($.a,{children:[Object(n.jsxs)("dl",{className:"row",children:[Object(n.jsxs)("dd",{className:"col-sm-4 my-auto",children:[Object(n.jsxs)("p",{className:"lead",children:["F\xf3rum criado para a mat\xe9ria de ",Object(n.jsx)("br",{}),"Tecnologias Web Prof. Vinicius ",Object(n.jsx)("br",{}),"utilizando ReactJS e Firebase. ",Object(n.jsx)("br",{}),"Download do projeto abaixo"]}),Object(n.jsx)(W.a,{variant:"outline-info",target:"_blank",href:"https://github.com/RicardoTaverna/forum_node_react",children:Object(n.jsx)(pe.a,{})})]}),Object(n.jsxs)("dd",{className:"col-sm-4 text-center",children:[Object(n.jsx)("h4",{children:"F\xf3rum"}),Object(n.jsx)("img",{alt:"",src:Oe,width:"60",height:"60",className:"d-inline-block align-top"})," ",Object(n.jsx)("h3",{children:"forDevs"})]}),Object(n.jsxs)("dt",{className:"col-sm-4 text-right my-auto",children:[Object(n.jsx)("p",{children:"Ricardo Taverna"}),Object(n.jsx)("p",{children:"Ygor Stengrat"})]})]}),Object(n.jsx)("hr",{className:"footerline"}),Object(n.jsx)("p",{className:"text-center small",children:"Tecnologias Web \xa9 2020 All rights reserved"})]})})});function ve(){return(ve=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.currentUser.uid,console.log(t.postid),e.next=4,C.collection("comentarios").add(Object(u.a)({userid:a},t));case 4:n=e.sent,K()("Adicionado: "+n.id,"","success");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(e){var t=new Date,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),a=Object(O.a)(t,2),n=a[0],s=a[1],r=function(e){s(Object(u.a)(Object(u.a)({},n),{},Object(re.a)({},e.target.name,e.target.value)))};return{inputs:n,setInputs:s,onInputChange:r}}({body:"",postid:e.postid,like:0,data:t.toLocaleDateString()}),r=a.inputs,i=(a.setInputs,a.onInputChange);return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)($.a,{className:"mt-5",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h2",{children:"Adicionar Coment\xe1rio"}),Object(n.jsxs)(oe.a.Group,{controlId:"formBody",children:[Object(n.jsx)(oe.a.Label,{children:Object(n.jsx)("label",{htmlFor:"txtBody",children:"Coment\xe1rio"})}),Object(n.jsx)(oe.a.Control,{as:"textarea",rows:"5",name:"body",value:r.body,onChange:i}),Object(n.jsx)(oe.a.Text,{className:"text-muted",children:"Escreva o seu Coment\xe1rio."}),Object(n.jsx)(W.a,{variant:"info",className:"mt-5",onClick:function(){return function(e){return ve.apply(this,arguments)}(r)},children:"Adicionar"})]})]})})},ye=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={post:[],comentarios:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;(function(e){return B.apply(this,arguments)})(t).then((function(t){e.setState({post:t})})),function(e){return P.apply(this,arguments)}(t).then((function(t){e.setState({comentarios:t})}))}},{key:"render",value:function(){var e=this.state.post,t=this.state.comentarios,a="";a=t.length>0?t.map((function(e){return Object(n.jsx)(xe,{data:e,userid:e.userid},e.id)})):Object(n.jsx)("h4",{className:"text-center mt-5 mb-5",children:"Ainda n\xe3o h\xe1 coment\xe1rios nesse post. Seja o primeiro a comentar!"});var c=this.props.match.params.id;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsx)($.a,{children:e.map((function(e){return Object(n.jsx)(ae,{data:e,detail:"post",coments:t.length,userid:e.userId},e.id)}))}),Object(n.jsx)($.a,{children:a}),Object(n.jsx)($.a,{className:"mt-3",children:Object(n.jsx)(ge,{postid:c})}),Object(n.jsx)(fe,{})]})}}]),a}(s.a.Component),Ne=a(40);a(113);function Ce(){return(Ce=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("usuarios").doc(a).update(Object(u.a)({},t));case 2:e.sent,K()("Usuario atualizado","","success");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we=function(e){var t=e.id,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),a=Object(O.a)(t,2),n=a[0],s=a[1],r=function(e){s(Object(u.a)(Object(u.a)({},n),{},Object(re.a)({},e.target.name,e.target.value)))};return{inputs:n,setInputs:s,onInputChange:r}}({nome:"",sobrenome:"",biografia:"",github:"",nascimento:"",photoURL:""}),r=a.inputs,i=a.setInputs,o=a.onInputChange;return Object(c.useEffect)((function(){var e=w.currentUser.uid;C.collection("usuarios").doc(e).get().then((function(e){var t=e.data();t&&i(t)}))}),[]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)($.a,{className:"mt-5",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h2",{className:"mb-3",children:"Atualizar cadastro"}),Object(n.jsxs)(oe.a.Group,{controlId:"formGithub",children:[Object(n.jsx)(oe.a.Label,{children:"URL da imagem"}),Object(n.jsx)(oe.a.Control,{placeholder:"URL da sua foto",type:"txt",name:"photoURL",value:r.photoURL,onChange:o})]}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(X.a,{children:Object(n.jsxs)(oe.a.Group,{controlId:"formBasicName",children:[Object(n.jsx)(oe.a.Label,{children:"Nome"}),Object(n.jsx)(oe.a.Control,{type:"text",placeholder:"Nome",name:"nome",value:r.nome,onChange:o})]})}),Object(n.jsx)(X.a,{children:Object(n.jsxs)(oe.a.Group,{controlId:"formBasicSobrenome",children:[Object(n.jsx)(oe.a.Label,{children:"Sobrenome"}),Object(n.jsx)(oe.a.Control,{type:"text",placeholder:"Sobrenome",name:"sobrenome",value:r.sobrenome,onChange:o})]})})]}),Object(n.jsxs)(oe.a.Group,{controlId:"formGithub",children:[Object(n.jsx)(oe.a.Label,{children:"Usuario Github"}),Object(n.jsx)(oe.a.Control,{placeholder:"Conta do Github",type:"email",name:"github",value:r.github,onChange:o})]}),Object(n.jsxs)(oe.a.Group,{controlId:"formNascimento",children:[Object(n.jsx)(oe.a.Label,{children:"Data Nascimento"}),Object(n.jsx)(oe.a.Control,{placeholder:"Data de Nascimento",type:"date",name:"nascimento",value:r.nascimento,onChange:o})]}),Object(n.jsxs)(oe.a.Group,{controlId:"formBiografia",children:[Object(n.jsx)(oe.a.Label,{children:"Biografia"}),Object(n.jsx)(oe.a.Control,{as:"textarea",rows:5,placeholder:"Biografia...",name:"biografia",value:r.biografia,onChange:o})]}),Object(n.jsx)(W.a,{variant:"info",className:"mt-3 mb-3",onClick:function(){return function(e,t){return Ce.apply(this,arguments)}(r,t)},children:"Atualizar"})]})})},ke=a(39);var Se=function(e){var t=e.data;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{colSpan:"2",className:"text-center",children:t.uid}),Object(n.jsx)("td",{colSpan:"2",className:"text-center",children:t.title}),Object(n.jsx)("td",{colSpan:"2",className:"text-center",children:t.data}),Object(n.jsx)("td",{colSpan:"2",className:"text-center",children:Object(n.jsx)(V.LinkContainer,{to:"/posts/".concat(t.uid),children:Object(n.jsxs)(W.a,{variant:"outline-info",children:[Object(n.jsx)(H.b,{})," Editar"]})})})]})})})},Ue=a(75),Le=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var c=e.userid;return n.state={userid:c,user:[],hidden:"none",post:[]},n.toogleDiv=n.toogleDiv.bind(Object(x.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;G(this.state.userid).then((function(t){e.setState({user:t})})),function(e){return _.apply(this,arguments)}(this.state.userid).then((function(t){e.setState({post:t}),console.log(t)}))}},{key:"loginOut",value:function(){w.signOut().then(K()("Realizado logout","Volte mais vezes e compartilhe conhecimento","info")),document.location="/"}},{key:"toogleDiv",value:function(){"none"==this.state.hidden?this.setState({hidden:"block"}):this.setState({hidden:"none"})}},{key:"render",value:function(){var e,t,a,c,r,i,o,l;this.state.user.map((function(n){e=n.displayName,t=n.nome,a=n.sobrenome,c=n.biografia,r=n.github,i=n.email,o=n.nascimento,l=n.photoURL}));var d={display:this.state.hidden},j=w.currentUser.uid,u=Object(n.jsx)(we,{id:j}),h=this.state.post;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsxs)($.a,{className:"mb-5",children:[Object(n.jsx)("div",{className:"",children:Object(n.jsxs)("div",{className:"card card-profile shadow mt-5 ",children:[Object(n.jsxs)(Q.a,{children:[Object(n.jsxs)(X.a,{md:4,children:[Object(n.jsx)(ee.a,{src:l,className:"mx-5 my-5",width:"75%",height:"75%",thumbnail:!0}),Object(n.jsxs)("div",{className:"text-left ml-5",children:[Object(n.jsx)("h3",{children:e}),Object(n.jsxs)("p",{children:[t," ",Object(n.jsx)("b",{children:a})]}),Object(n.jsxs)("h5",{children:[Object(n.jsx)(ke.c,{}),Object(n.jsx)("a",{className:"text-info",onClick:this.loginOut,children:" logout"})]})]})]}),Object(n.jsx)(X.a,{md:8,children:Object(n.jsxs)("div",{className:"text-left ml-5 mt-5 pl-5",children:[Object(n.jsxs)("h5",{children:[Object(n.jsx)(ke.b,{})," ",r]}),Object(n.jsxs)("h5",{children:[Object(n.jsx)(ke.d,{})," ",i]}),Object(n.jsxs)("h5",{children:[Object(n.jsx)(ke.a,{})," ",o]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:Object(n.jsx)(ke.e,{})}),Object(n.jsx)("p",{className:"text-muted",children:c})]})})]}),Object(n.jsx)("hr",{className:"mb-2"}),Object(n.jsx)(W.a,{variant:"outline-info",className:"mx-auto mb-2",onClick:this.toogleDiv,children:"Atualizar Perfil"}),Object(n.jsx)("div",{style:d,children:u})]})}),Object(n.jsx)(Y.a,{className:"shadow mt-5",children:Object(n.jsxs)(Y.a.Body,{children:[Object(n.jsx)(Y.a.Title,{className:"text-center",children:"Posts Criados"}),Object(n.jsxs)(Ue.a,{striped:!0,bordered:!0,hover:!0,className:"pb-0 mb-0",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"bg-info text-white",children:[Object(n.jsx)("th",{colSpan:"2",className:"text-center",children:"Id"}),Object(n.jsx)("th",{colSpan:"2",className:"text-center",children:"T\xedtulo"}),Object(n.jsx)("th",{colSpan:"2",className:"text-center",children:"Data"}),Object(n.jsx)("th",{colSpan:"2",className:"text-center",children:"Editar"})]})}),h.map((function(e){return Object(n.jsx)(Se,{data:e})}))]})]})})]})]})}}]),a}(s.a.Component),Ie=a(44),Be=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:"",txtEmail:"",txtPassword:"",message:".",uid:""},n.onUpdate=n.onUpdate.bind(Object(x.a)(n)),n.onLogin=n.onLogin.bind(Object(x.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(w.currentUser){var t=w.currentUser.uid;w.currentUser.emailVerified&&(console.log("passei aqui"),G(t).then((function(t){e.setState({user:t})})),this.setState({uid:t}))}}},{key:"componentDidCatch",value:function(){var e=this;if(w.currentUser){var t=w.currentUser.uid;w.currentUser.emailVerified&&(console.log("passei aqui"),G(t).then((function(t){e.setState({user:t})})),this.setState({uid:t}))}}},{key:"renderLoggedIn",value:function(){var e=this.state.uid;return Object(n.jsx)(Le,{userid:e})}},{key:"onUpdate",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"onLogin",value:function(){var e=this,t=this.state,a=t.txtEmail,n=t.txtPassword;w.signInWithEmailAndPassword(a,n).then((function(t){var a=t.user;if(!a.emailVerified)return e.setState({message:"Seu e-mail ainda n\xe3o foi verificado!"}),void K()("Ops",e.state.message,"error");e.setState({user:a,uid:a.uid})})).catch((function(t){e.setState({message:JSON.stringify(t)}),K()(e.state.message)}))}},{key:"renderLoggedOut",value:function(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsxs)("div",{className:"image",children:[Object(n.jsx)("div",{children:this.state.message}),Object(n.jsx)($.a,{className:"d-flex align-itens-center justify-content-center",style:{minHeight:"100vh"},children:Object(n.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(n.jsxs)(Y.a,{className:"loginForm shadow-lg text-center mx-auto my-5",children:[Object(n.jsx)(Y.a.Header,{children:Object(n.jsxs)(Ie.a,{"aria-label":"Basic example",children:[Object(n.jsx)(W.a,{variant:"secondary",children:"Login"}),Object(n.jsx)(V.LinkContainer,{to:"/registro",children:Object(n.jsx)(W.a,{variant:"outline-secondary",children:"Registrar"})})]})}),Object(n.jsxs)(Y.a.Body,{children:[Object(n.jsx)(Y.a.Title,{className:"my-3",children:"Login"}),Object(n.jsxs)(Y.a.Text,{children:[Object(n.jsx)(oe.a.Group,{controlId:"formBasicEmail",children:Object(n.jsx)(oe.a.Control,{type:"email",placeholder:"E-mail",name:"txtEmail",value:this.state.txtEmail,onChange:this.onUpdate})}),Object(n.jsx)(oe.a.Group,{controlId:"formBasicPassword",children:Object(n.jsx)(oe.a.Control,{placeholder:"Senha",type:"password",name:"txtPassword",value:this.state.txtPassword,onChange:this.onUpdate})})]})]}),Object(n.jsx)(Y.a.Body,{children:Object(n.jsx)(W.a,{variant:"info",onClick:this.onLogin,children:"Realizar Login"})})]})})})]}),Object(n.jsx)(fe,{})]})}},{key:"render",value:function(){return console.log(this.state.user),this.state.user?this.renderLoggedIn():this.renderLoggedOut()}}]),a}(s.a.Component),Ee=(a(114),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:null,txtEmail:"",txtPassword:"",message:"."},n.onUpdate=n.onUpdate.bind(Object(x.a)(n)),n.onCreate=n.onCreate.bind(Object(x.a)(n)),n}return Object(l.a)(a,[{key:"onUpdate",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"onCreate",value:function(){var e=this,t=this.state,a=t.txtEmail,n=t.txtPassword,c=t.txtNome,s=t.txtSobrenome,r=t.txtUsername,i=t.txtNascimento,o=t.txtGithub,l=["?set=set1","?set=set2","?set=set3","?set=set4","?set=set5"],d=l[Math.floor(Math.random()*l.length)];console.log(d),w.createUserWithEmailAndPassword(a,n).then((function(t){w.currentUser.sendEmailVerification().then((function(){var a=t.user;a.updateProfile({displayName:r,photoURL:"https://robohash.org/"+a.email+d}).then((function(){console.log(a.uid),C.collection("usuarios").doc(a.uid).set({nome:c,sobrenome:s,displayName:a.displayName,nascimento:i,github:o,uid:a.uid,email:a.email,phoneNumber:a.phoneNumber,photoURL:a.photoURL,biografia:""})})),e.setState({message:"Usu\xe1rio "+r+" criado!"}),K()(e.state.message,"Verifique seu e-mail!","success")})).catch((function(){e.setState({message:"N\xe3o foi poss\xedvel enviar o e-mail de verifica\xe7\xe3o."}),K()(e.state.message)}))})).catch((function(t){e.setState({message:t.message}),K()(e.state.message)}))}},{key:"renderCreateUser",value:function(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsx)("div",{className:"image",children:Object(n.jsx)($.a,{className:"d-flex align-itens-center justify-content-center",style:{minHeight:"100vh"},children:Object(n.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(n.jsxs)(Y.a,{className:"loginForm shadow-lg text-center mx-auto my-5 mb-5",children:[Object(n.jsx)(Y.a.Header,{children:Object(n.jsxs)(Ie.a,{"aria-label":"Basic example",children:[Object(n.jsx)(V.LinkContainer,{to:"/login",children:Object(n.jsx)(W.a,{variant:"outline-secondary",children:"Login"})}),Object(n.jsx)(W.a,{variant:"secondary",children:"Registrar"})]})}),Object(n.jsxs)(Y.a.Body,{children:[Object(n.jsx)(Y.a.Title,{className:"my-3",children:"Registrar"}),Object(n.jsxs)(Y.a.Text,{children:[Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(oe.a.Group,{controlId:"formBasicName",children:Object(n.jsx)(oe.a.Control,{type:"text",placeholder:"Nome",name:"txtNome",value:this.state.txtNome,onChange:this.onUpdate})})}),Object(n.jsx)(X.a,{children:Object(n.jsx)(oe.a.Group,{controlId:"formBasicSobrenome",children:Object(n.jsx)(oe.a.Control,{type:"text",placeholder:"Sobrenome",name:"txtSobrenome",value:this.state.txtSobrenome,onChange:this.onUpdate})})})]}),Object(n.jsx)(oe.a.Group,{controlId:"formBasicUsername",children:Object(n.jsx)(oe.a.Control,{type:"text",placeholder:"Username",name:"txtUsername",value:this.state.txtUsername,onChange:this.onUpdate})}),Object(n.jsx)(oe.a.Group,{controlId:"formBasicEmail",children:Object(n.jsx)(oe.a.Control,{type:"email",placeholder:"E-mail",name:"txtEmail",value:this.state.txtEmail,onChange:this.onUpdate})}),Object(n.jsx)(oe.a.Group,{controlId:"formBasicPassword",children:Object(n.jsx)(oe.a.Control,{placeholder:"Senha",type:"password",name:"txtPassword",value:this.state.txtPassword,onChange:this.onUpdate})}),Object(n.jsxs)(oe.a.Group,{controlId:"formGithub",children:[Object(n.jsx)(oe.a.Control,{placeholder:"github.com/",type:"email",name:"txtGithub",value:this.state.txtGithub,onChange:this.onUpdate}),Object(n.jsx)(oe.a.Text,{className:"text-muted text-left text-small",children:"Adicione apenas seu usuario do github"})]}),Object(n.jsx)(oe.a.Group,{controlId:"formNascimento",children:Object(n.jsx)(oe.a.Control,{placeholder:"Data de Nascimento",type:"date",name:"txtNascimento",value:this.state.txtNascimento,onChange:this.onUpdate})})]})]}),Object(n.jsx)(Y.a.Body,{children:Object(n.jsx)(W.a,{variant:"info",onClick:this.onCreate,children:"Criar Conta"})})]})})})}),Object(n.jsx)(fe,{})]})}},{key:"render",value:function(){return this.renderCreateUser()}}]),a}(s.a.Component));var Te=function(e){var t=e.component,a=e.render,c=void 0===a?null:a,s=e.children,r=void 0===s?null:s,i=Object(h.a)(e,["component","render","children"]),o=c||r;return Object(n.jsx)(ie.d,Object(u.a)(Object(u.a)({},i),{},{render:function(e){return localStorage.reactBlogUid?o?o(e):Object(n.jsx)(t,Object(u.a)({},e)):Object(n.jsx)(ie.c,{to:"/login"})}}))};function Pe(e){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(ue,{}),Object(n.jsx)(se,{}),Object(n.jsx)(fe,{})]})}var De=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setupAxios(),w.onAuthStateChanged((function(e){if(console.log("STATE CHANGED:"+JSON.stringify(e)),null==e||!1===e.emailVerified)return localStorage.removeItem("reactBlogUid"),localStorage.removeItem("reactBlogUDisplayName"),void localStorage.removeItem("reactBlobUEmail");localStorage.user={user:e},localStorage.reactBlogUid=e.uid,localStorage.reactBlogUDisplayName=e.displayName,localStorage.reactBlobUEmail=e.email})),n}return Object(l.a)(a,[{key:"setupAxios",value:function(){m.a.defaults.baseURL=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,m.a.defaults.headers.post["Content-Type"]="application/json"}}]),Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(Ne.HashRouter,{children:Object(n.jsxs)(ie.g,{children:[Object(n.jsx)(ie.d,{exact:!0,path:"/",component:Pe}),Object(n.jsx)(ie.d,{exact:!0,path:"/posts",component:se}),Object(n.jsx)(Te,{exact:!0,path:"/posts/:id",component:me}),Object(n.jsx)(ie.d,{exact:!0,path:"/post/:id",component:ye}),Object(n.jsx)(ie.d,{exact:!0,path:"/login",component:Be}),Object(n.jsx)(ie.d,{exact:!0,path:"/registro",component:Ee}),Object(n.jsx)(Te,{exact:!0,path:"/perfil/:displayName",component:Le})]})})})}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(De,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){},98:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.6ce8fa7f.chunk.js.map